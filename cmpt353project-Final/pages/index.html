<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>CBO</title>

        <style>
            .mainButton {
                font-size: 24px;
                margin: 0 auto;
                display: block;
                border-radius: 4px;
                background-color: white;
                color: black;
                border: 2px solid #4CAF50;
                transition-duration: 0.3s;
            }
            .mainButton:hover{
                background-color: #4CAF50;
                color: white;
            }
        </style>

    </head>


    <body onload="authenticate()">
        <h1 style="text-align:center">Welcome</h1>

        <br>
        <button class="mainButton" onclick="window.location.href='./staff'">Staff</button>
        <br>
        <button class="mainButton" onclick="window.location.href='./customers'">Customers</button>
        <br>
        <button class="mainButton" onclick="window.location.href='./report'">Add Report</button>
        <br>
        <button class="mainButton" onclick="window.location.href='./add_login'">Add Login</button>

    </body>

<script>
    function authenticate(){
        let http = new XMLHttpRequest();
        let url = '/authenticate';

        http.open('GET', url, true);
        http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
        http.send()

        http.onreadystatechange = function()
        {
            if(http.readyState === 4 && http.status === 401)
            {
                window.location.href='./';
            }
        };
    }
</script>

</html>


